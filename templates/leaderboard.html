{% extends "base.html" %}
{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js" type="text/javascript"></script>
<script type="text/javascript"> var data = {{ scores }}; </script>
<div class="row">
  <div class="col-md-12" id="tracker-msg">
    <div class="alert alert-info">
      <p>The leaderboard has changed since you last loaded this page. Please <a href="/leaderboard">reload</a> to see the new changes</p>
    </div>
  </div>
  <div class="col-md-6">
    <h3>Leaderboard 
      {% if rank %}
        <span class="badge">{{rank}}/{{leaders|count}}</span>
      {% endif %}
    </h3>
    <hr />
    <table class="table table-hover">
    <thead>
      <tr>
        <th>Rank</th>
        <th>Name</th>
        <th>F1 Measure</th>
      </tr>
    </thead>
    <tbody>
    {% for leader in leaders %}
      <tr class="{% if leader.email == email %}{{"highlight-me"}}{% endif %}">
        <th>{{ loop.index }}</th>
        <th> {{ leader.name }}</th>
        <th>{{ "%.6f" | format(leader.F1) }}</th>
      </tr>
    {% endfor %}
    </tbody>
    </table>
  </div>

  <div class="col-md-6">
    <h3>Statistics</h3>
    <hr />
    <p class="chart-title">F1 Measure vs Ranks</p>
    <canvas id="trend" width="400" height="200"></canvas>
    <p class="chart-title">F1 Measure Distribution</p>
    <canvas id="histo" width="400" height="200"></canvas>
  </div>
</div>
<script src="/static/js/reconnecting-websocket.min.js" type="text/javascript"></script>
<script src="/static/js/app.js" type="text/javascript"></script>
{% endblock %}
